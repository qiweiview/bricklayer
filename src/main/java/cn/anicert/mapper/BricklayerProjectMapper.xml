<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.anicert.dao.BricklayerProjectDao">

    <resultMap type="cn.anicert.model.d_o.BricklayerProjectDO" id="BricklayerProjectMap">
        <id property="id" column="id"/>
        <result property="projectName" column="project_name"/>
        <result property="projectDescription" column="project_description"/>
        <result property="contextPath" column="context_path"/>
        <result property="createBy" column="create_by"/>
        <result property="updateBy" column="update_by"/>
        <result property="createDate" column="create_date"/>
        <result property="updateDate" column="update_date"/>
    </resultMap>


    <select id="listBricklayerProjectPage" parameterType="cn.anicert.model.d_o.BricklayerProjectDO"
            resultMap="BricklayerProjectMap">
        select
        id,
        project_name,
        project_description,
        context_path,
        create_by,
        update_by,
        create_date,
        update_date,
        '1'as blank_
        from bricklayer_project
        where 1=1
        <if test="do.projectName!=null  and do.projectName!=''">
            and project_name like concat('%',#{ do.projectName},'%')
        </if>
        <if test="do.createBy!=null  and do.createBy!=''">
            and create_by = #{ do.createBy}
        </if>
    </select>

    <select id="listBricklayerProject" parameterType="cn.anicert.model.d_o.BricklayerProjectDO"
            resultMap="BricklayerProjectMap">
        select
            id,

            project_name,
            project_description,
            context_path,
          create_by,
        update_by,
        create_date,
        update_date,
        '1'as blank_
        from bricklayer_project
        where 1=1

    </select>

    <select id="getBricklayerProjectById" parameterType="cn.anicert.model.d_o.BricklayerProjectDO"
            resultMap="BricklayerProjectMap">
        select
        id,

        project_name,
        project_description,
        context_path,
          create_by,
        update_by,
        create_date,
        update_date,
        '1'as blank_
        from bricklayer_project
        where 1=1
        and id  = #{id}

    </select>


    <delete id="deleteBricklayerProject" parameterType="cn.anicert.model.d_o.BricklayerProjectDO">
        delete
        from bricklayer_project
        where 1=1
        and id  = #{id}

    </delete>

    <update id="updateBricklayerProject" parameterType="cn.anicert.model.d_o.BricklayerProjectDO">
        update bricklayer_project
        set
        <if test="projectName!=null  and projectName!=''">
            project_name = #{ projectName},
        </if>
        <if test="projectDescription!=null  and projectDescription!=''">
            project_description = #{ projectDescription},
        </if>
        <if test="contextPath!=null  and contextPath!=''">
            context_path = #{ contextPath},
        </if>
        <if test="createBy!=null  and createBy!=''">
            create_by = #{ createBy},
        </if>
        <if test="updateBy!=null  and updateBy!=''">
            update_by = #{ updateBy},
        </if>
        <if test="createDate!=null ">
            create_date = #{ createDate},
        </if>
        <if test="updateDate!=null ">
            update_date = #{ updateDate},
        </if>
        id=id
        where 1=1
        and id = #{id}

    </update>


</mapper>